{"version":3,"sources":["diverflag.png","AppContext.tsx","api.ts","Navbar.tsx","DestinationCard.tsx","Destination.tsx","DestinationList.tsx","Login.js","About.tsx","App.tsx","serviceWorker.js","index.js"],"names":["module","exports","DEFAULT_STATE","user","undefined","AppContext","React","createContext","loadJson","_x","_loadJson","apply","this","arguments","_callee7","path","options","resp","data","error","errorData","_args7","regenerator_default","a","wrap","_context7","prev","next","length","headers","fetch","sent","ok","json","abrupt","t0","statusText","Error","stop","loadAuthJson","_callee8","accessToken","_args8","_context8","concat","getCountries","_getCountries","_callee9","params","paramsObj","_args9","_context9","limit","URLSearchParams","toString","getCities","_getCities","_callee10","_args10","_context10","country_name","results","map","datum","getDestination","_x4","_x5","_getDestination","_callee11","city_name","_context11","include_divesites","Note","updateNote","_updateNote","Object","asyncToGenerator","mark","_callee","_ref","diveSiteId","content","body","_context","Content-Type","Authorization","access_token","JSON","stringify","id","method","_x7","getNote","_getNote","_callee2","_ref2","_context2","methods","_x8","auth","register","_register","_callee3","_ref3","username","email","password","_context3","console","log","login","_x9","_login","_callee4","_context4","_x10","_x11","logout","_logout","_callee5","_context5","_x12","isTokenValid","_isTokenValid","_callee6","_ref4","valid","_context6","_x13","Navbar","_this","context","updateUser","react_default","createElement","className","role","aria-label","style","paddingLeft","paddingRight","href","aria-expanded","data-target","aria-hidden","react_router_dom","to","Component","contextType","DestinationCard","_textarea","props","site","value","prevProps","event","textarea","_this2","_this$props","country","city","autoFocus","placeholder","ref","c","onClick","onNoteSave","bind","disabled","name","Flag","_ref$clickHandler","lat","lng","clickHandler","src","diveflag","alt","data-tooltip","boxShadow","cursor","Destination","_useState","useState","_useState2","slicedToArray","diveSites","setDiveSites","_useState3","_useState4","destination","setDestination","_useState5","_useState6","activeSite","setActiveSite","useEffect","result","match","divesite_set","height","width","position","top","lib_default","bootstrapURLKeys","key","defaultCenter","defaultZoom","zoom_level","Destination_Flag","src_DestinationCard","isLoggedIn","Level","children","Countries","dest","margin","background","color","verticalAlign","num_divesite","Cities","Dest","_ref5","locationType","DestinationList_Countries","DestinationList_Cities","DestinationList_","_ref6","breadcrumb","isLoading","destinations","hasMore","loadMoreHandler","DestinationList_Level","crumb","idx","padding","flexWrap","Array","fill","_","DestinationList_Dest","DestinationList","setIsLoading","setDestinations","setNext","push","String","alert","DestinationList_DestinationList_","urlObj","url","newList","URL","replace","origin","Login","setEmail","setPassword","setError","_submitHandler","e","preventDefault","history","message","onSubmit","type","onChange","target","class","withRouter","Consumer","Login_Login","assign","About","rel","DestinationPage","src_Destination","DestinationListPage","location","pathname","src_DestinationList","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","setState","localStorage","setItem","getItem","tempUser","parse","then","isValid","Provider","objectSpread","src_Navbar","react_router","exact","render","component","Boolean","window","hostname","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.13800fbf.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAWCAYAAADXYyzPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEXSURBVHgBvZSBCYJAFIZ/j6goqDYoaoMGKGiRRgjawAYIWiBokIIGcAcdIDCCLAKtZxyked2d3fmBKMfzPT/f4znJC3xw3+0QrVaIfR+2iAGX5Q8b8zk6+316twkrPBwM0N5u04ueKyvMsWnPpAGW7NllNkMcBNJA0/bscTziPB7jttnIgw3ap786CUNcl0tUaZ/pcZX2X8NVlb1wqrl95LqQJilh75wYS1QSdw4HsH5fFpquWlq5tHqFMUUrU5QsHA6N2isZ5xOr2tO8kH1+WJWNMy9p2Du9Hlrr9ftDc/bahTlkEo5GSpNfm07R9Tw0F4v/CxNl7euTiX6PRej0HmV6LELHnjBWmKPae+OFCRV7K4U5v+yfW0isVFYNLj4AAAAASUVORK5CYII=\"","import React from 'react';\r\nimport { IUser } from './api'\r\n\r\nexport const DEFAULT_STATE = {\r\n    user: undefined\r\n}\r\nexport const AppContext = React.createContext<{ user?: IUser }>(DEFAULT_STATE)\r\n","// import { number } from \"prop-types\";\r\n\r\nexport interface IUser {\r\n  id: number;\r\n  username: string;\r\n  access_token: string;\r\n}\r\n\r\nexport interface ICity {\r\n  id: number;\r\n  lat: number;\r\n  lng: number;\r\n  divesite_set?: [IDiveSite];\r\n  zoom_level: number;\r\n  country_name?: string;\r\n}\r\n\r\nexport interface IDiveSite {\r\n  id: number;\r\n  lat: number;\r\n  lng: number;\r\n  name: string;\r\n  destination: string;\r\n  country: string;\r\n}\r\n\r\nexport interface INote {\r\n  id: number;\r\n  content: string;\r\n}\r\n\r\nexport interface IUser {\r\n  id: number;\r\n  access_token: string;\r\n  username: string;\r\n}\r\n\r\nexport interface APIResults<T> {\r\n  count: number;\r\n  next: string | null;\r\n  previous: string | null;\r\n  results: T[];\r\n}\r\n\r\n\r\n// export enum LocationTypeEnum {\r\n//   cities = 'cities',\r\n//   countries = 'countries'\r\n// }\r\n\r\nexport async function loadJson(path: string, options:any = {}) {\r\n  \r\n  if (options.headers == null) {\r\n    options.headers = {}\r\n  }\r\n\r\n  options.headers['Content-Type'] = 'application/json'\r\n\r\n  const resp = await fetch(path, options)\r\n  if (resp.ok) {\r\n    const data = await resp.json()\r\n    return data\r\n  }\r\n\r\n  let error = ''\r\n  try {\r\n    const errorData = await resp.json() \r\n    error = errorData.error\r\n  } catch (e) {\r\n    error = resp.statusText\r\n  }\r\n  throw new Error(error)\r\n}\r\n\r\nasync function loadAuthJson(path:string , accessToken: string, options:any = {}) {\r\n  if (options.headers == null) {\r\n    options.headers = {}\r\n  }\r\n  options.headers['Authorization'] = `Bearer ${accessToken}` \r\n  return loadJson(path, options)\r\n}\r\n\r\nexport async function getCountries(params:{ limit: string } = { limit: '10' }): Promise<APIResults<ICity>> {\r\n  const paramsObj = new URLSearchParams(params)\r\n  return loadJson(`/api/countries?${paramsObj.toString()}`)\r\n}\r\n\r\nexport async function getCities(params:{ country_name: string, limit: string } = { country_name: 'Thailand', limit: '10' }): Promise<APIResults<ICity>> {\r\n  const paramsObj = new URLSearchParams(params)\r\n  const data = await loadJson(`/api/cities?${paramsObj.toString()}`)\r\n  data.results = data.results.map((datum: ICity) => {\r\n    datum.country_name = params.country_name\r\n    return datum\r\n  })\r\n  return data\r\n}\r\n\r\nexport async function getDestination(country_name:string, city_name:string): Promise<APIResults<ICity>> {\r\n  const paramsObj = new URLSearchParams({ country_name, city_name, include_divesites: 'true' })\r\n  const data = await loadJson(`/api/cities?${paramsObj.toString()}`)\r\n  return data\r\n}\r\n\r\nexport async function getDiveSites(query?:any) {\r\n  return loadJson('/api/divesites')\r\n}\r\n\r\nexport const Note = {\r\n  async updateNote({ diveSiteId, user, content }: { diveSiteId: number, user: IUser, content:string}): Promise<void> {\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${user.access_token}`\r\n    }\r\n    const body = JSON.stringify({ content })\r\n    const data = await loadJson(`/api/notes/divesites/${diveSiteId}/users/${user.id}`, {\r\n      method: 'POST', \r\n      headers, \r\n      body\r\n    })\r\n    return data\r\n  },\r\n  async getNote({ diveSiteId, user }: { diveSiteId: number, user: IUser }): Promise<string> {\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${user.access_token}`\r\n    }\r\n    const data = await loadJson(\r\n      `/api/notes/divesites/${diveSiteId}/users/${user.id}`, \r\n      { headers, methods: 'POST'}\r\n    )\r\n    if (data == null) {\r\n      return ''\r\n    }\r\n    return data.content\r\n  }\r\n}\r\n\r\nexport const auth = {\r\n  async register({ username, email, password }: { username: string, email: string, password: string}) {\r\n    const options = {\r\n      method: 'POST',\r\n      body: JSON.stringify({ username, email, password }),\r\n      headers: { 'Content-Type': 'application/json' }\r\n    }\r\n    const data = await loadJson('/auth/api-register', options)\r\n    console.log('data', data)\r\n    return this.login(email, password)\r\n  },\r\n  async login(email: string, password: string) {\r\n    const options = {\r\n      method: 'POST',\r\n      body: JSON.stringify({ email, password }),\r\n      headers: { 'Content-Type': 'application/json' }\r\n    }\r\n    const data = await loadJson('/auth/api-login', options)\r\n    return data\r\n  },\r\n  async logout(accessToken: string) {\r\n    const options = {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${accessToken}`\r\n      }\r\n    }\r\n    const data = await loadJson('/auth/api-logout', options)\r\n    return data\r\n  },\r\n  async isTokenValid(accessToken: string): Promise<boolean> {\r\n    const { valid } = await loadAuthJson('/auth/check-token', accessToken)\r\n    return valid\r\n  }\r\n};","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { AppContext } from './AppContext'\r\nimport { auth } from './api'\r\n\r\nclass Navbar extends React.Component {\r\n    static contextType = AppContext\r\n\r\n    logout = async () => {\r\n        await auth.logout(this.context.user.access_token)\r\n        this.context.updateUser(null)\r\n    }\r\n\r\n    render() {\r\n        // const { user } = this.context\r\n\r\n        return (\r\n            <nav className=\"navbar is-dark\"\r\n                id=\"nav\"\r\n                role=\"navigation\"\r\n                aria-label=\"main navigation\"\r\n                style={{ paddingLeft: 10, paddingRight: 10 }}\r\n            >\r\n                <div className=\"navbar-brand\">\r\n                    <a href=\"/\" role=\"button\" className=\"navbar-burger burger\" aria-label=\"menu\" aria-expanded=\"false\"\r\n                        data-target=\"navbarBasicExample\">\r\n                        <span aria-hidden=\"true\"></span>\r\n                        <span aria-hidden=\"true\"></span>\r\n                        <span aria-hidden=\"true\"></span>\r\n                    </a>\r\n                </div>\r\n                <div id=\"navbarBasicExample\" className=\"navbar-menu\">\r\n                    <div className=\"navbar-start\">\r\n                        <a href=\"/\" className=\"navbar-item\">\r\n                            <div className=\"title\" style={{ paddingRight: 20 }}>Reefbase</div>\r\n                        </a>\r\n                        <Link className=\"navbar-item\" to=\"/about\">About</Link>\r\n                        <Link className=\"navbar-item\" to=\"/destinations\">Destinations</Link>\r\n                    </div>\r\n                    {/* {user != null ?\r\n                        <div className=\"navbar-end\">\r\n                            <a href=\"/\" className=\"navbar-item\">{user.username}</a>\r\n                            <a className=\"navbar-item\" onClick={this.logout}>Logout</a>\r\n                        </div>\r\n                        :\r\n                        <div className=\"navbar-end\">\r\n                            <Link className=\"navbar-item\" to=\"/login\">Login</Link>\r\n                        </div>\r\n                    } */}\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport { IDiveSite, Note } from './api'\r\nimport { AppContext } from './AppContext'\r\n\r\ninterface IDestinationCardProps {\r\n    site: IDiveSite;\r\n    // updateNoteHandler: () => any,\r\n    isLoggedIn: boolean;\r\n    country: string;\r\n    city: string;\r\n}\r\n\r\nclass DestinationCard extends React.Component<IDestinationCardProps, any> {\r\n    static contextType = AppContext\r\n    _textarea: any\r\n\r\n    async syncNote() {\r\n        const diveSiteId = this.props.site.id\r\n        const content = await Note.getNote({ diveSiteId, user: this.context.user })\r\n        this._textarea.value = content\r\n    }\r\n\r\n    async componentWillMount() {\r\n        if (this.context.user == null) return\r\n        // await this.syncNote()\r\n    }\r\n\r\n    async componentDidUpdate(prevProps: any) {\r\n        if (this.props.site.id !== prevProps.site.id) {\r\n            this._textarea.value = ''\r\n            // this.syncNote()\r\n        }\r\n    }\r\n\r\n    async onNoteSave(event: any) {\r\n        const diveSiteId = this.props.site.id\r\n        // TODO: check result and feedback UI\r\n        await Note.updateNote({ \r\n            diveSiteId, \r\n            user: this.context.user,\r\n            content: this._textarea.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {site, country, city} = this.props\r\n        if (site == null) {\r\n            return (\r\n                <div>\r\n                    <h2 className=\"title is-two\">No Dive Site Selected!</h2>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        let textarea\r\n        if (this.context.user != null) {\r\n            textarea = (\r\n                <div className='full-height'>\r\n                    <textarea \r\n                        autoFocus={true}\r\n                        className=\"textarea\" \r\n                        placeholder=\"Take notes here.\"\r\n                        ref={c => this._textarea = c}\r\n                    >\r\n                    </textarea>\r\n                    <button className='button' \r\n                        onClick={this.onNoteSave.bind(this)}>submit</button>\r\n                </div>\r\n            )\r\n        } else {\r\n            textarea = (\r\n                <div>\r\n                    <textarea \r\n                        className=\"textarea\" \r\n                        placeholder=\"Notes coming soon!\"\r\n                        // placeholder=\"Please login to take notes\" \r\n                        ref={c => this._textarea = c}\r\n                        disabled></textarea>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n        <div>\r\n            <h2 className=\"title is-two\">{site.name}</h2>\r\n            <h3 className=\"subtitle is-four\">{city}, {country}</h3>\r\n            { textarea }\r\n\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DestinationCard","import React, { useState, useEffect } from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport diveflag from './diverflag.png'\r\nimport DestinationCard from './DestinationCard';\r\nimport {getDestination, IDiveSite, ICity} from './api'\r\n\r\n\r\nconst Flag = ({ site, lat, lng, clickHandler=()=>{} }: { site:IDiveSite, lat:number, lng:number, clickHandler?: () => void})=> {\r\n\r\n    return (\r\n        <img \r\n            className=\"tooltip\"\r\n            onClick={clickHandler} \r\n            src={diveflag}\r\n            alt='Diver Down Flag'\r\n            data-tooltip={site.name}\r\n            style={{\r\n                boxShadow: '0px 4px 4px rgba(0, 0, 0, 0.25)',\r\n                cursor: 'pointer'\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\nfunction Destination(props: any) {\r\n    const [diveSites, setDiveSites] = useState<IDiveSite[]>([])\r\n    const [destination, setDestination] = useState<ICity | null>(null)\r\n    const [activeSite, setActiveSite] = useState<any>(null)\r\n\r\n    useEffect(() => {\r\n        (async function() {\r\n            const data = await getDestination(props.match.params.country, props.match.params.city)\r\n            const result = data.results[0]\r\n            setDestination(result)\r\n            const diveSites = result.divesite_set || []\r\n            setDiveSites(diveSites)\r\n            if (diveSites.length > 0) setActiveSite(diveSites[0])\r\n        })()\r\n    }, [props.match.params.country, props.match.params.city])\r\n\r\n    return (\r\n        <div>\r\n           <div style={{ height: '100vh', width: '100%', position: 'fixed', top: 0 }}>\r\n           {destination != null ?\r\n                <GoogleMapReact\r\n                    bootstrapURLKeys={{ key: 'AIzaSyCaxeoUHkl2GK3sKFaNvLfoRWMTm0EbzK0' }}\r\n                    defaultCenter={destination}\r\n                    defaultZoom={destination.zoom_level}\r\n                >\r\n                {\r\n                    diveSites.map(site => <Flag \r\n                        key={site.id} \r\n                        lat={site.lat} \r\n                        lng={site.lng} \r\n                        site={site} \r\n                        clickHandler={() => {setActiveSite(site)}}/>\r\n                    )\r\n                }\r\n                </GoogleMapReact>\r\n           :false}\r\n            </div>\r\n            <div id=\"content\">\r\n            \r\n            {activeSite != null ?\r\n            <section className=\"section\">\r\n                <div className=\"container is-fluid\">\r\n                    <div className=\"columns\">\r\n                        <div className=\"column is-three-quarters\"></div>\r\n                        <div className=\"column\">\r\n                            <div className=\"tile box is-vertical\" id=\"main-content\">\r\n                               <DestinationCard \r\n                                    country={props.match.params.country}\r\n                                    city={props.match.params.city}\r\n                                    site={activeSite} \r\n                                    isLoggedIn={true} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            :null}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Destination;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport { getCountries, getCities, ICity, loadJson } from './api'\r\n\r\n\r\nconst Level = (props: any) => <div className=\"level\">{props.children}</div>\r\n\r\nfunction DestinationList(props: { locationType: string, country?: string }) {\r\n    const { locationType, country } = props\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [destinations, setDestinations] = useState<ICity[]>([])\r\n    const [next, setNext] = useState(null as string | null)\r\n\r\n    let breadcrumb = [{ name: 'Countries', href: '/destinations' }]\r\n    if (country != null) {\r\n        breadcrumb.push({\r\n            name: country,\r\n            href: `/destinations/${country}`\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        (async function () {\r\n            try {\r\n                let data = null\r\n                if (locationType === 'countries') {\r\n\r\n                    data = await getCountries()\r\n                } else {\r\n                    data = await getCities({ country_name: String(props.country), limit: '10' })\r\n                }\r\n                setNext(data.next)\r\n                setDestinations(data.results)\r\n                setIsLoading(false)\r\n            } catch (error) {\r\n                alert(error)\r\n            }\r\n        })()\r\n    }, [locationType, props.country])\r\n\r\n    return (\r\n        <DestinationList_ \r\n            breadcrumb={breadcrumb}\r\n            isLoading={isLoading} \r\n            destinations={destinations} \r\n            locationType={locationType}\r\n            hasMore={next != null}\r\n            loadMoreHandler={async () => {\r\n                if (next == null) return\r\n                const urlObj = new URL(next)\r\n                // fix different host in development\r\n                const url = urlObj.href.replace(urlObj.origin, '')\r\n\r\n                const data = await loadJson(url)\r\n                const newList = destinations.concat(data.results)\r\n                setDestinations(newList)\r\n                setNext(data.next)\r\n            }}\r\n        />\r\n    );\r\n}\r\n// TODO: better abstraction of list\r\n\r\nconst Countries = ({ dest }: { dest: any }) => (\r\n    <Link className=\"box\"\r\n        to={`/destinations/${dest.name}`}\r\n        style={{ margin: 10, height: 250, width: 250, background: '#102D54' }}\r\n    >\r\n        <div className=\"title is-4\"\r\n            style={{ color: 'white', height: '100%', verticalAlign: 'center' }}>\r\n            {dest.name} <span className=\"tag is-dark\">{dest.num_divesite} divesites</span>\r\n        </div>\r\n    </Link>\r\n)\r\n\r\nconst Cities = ({ dest }: { dest: any }) => (\r\n    <Link className=\"box\"\r\n        to={`/destinations/${dest.country_name}/${dest.name}`}\r\n        style={{ margin: 10, height: 250, width: 250, background: '#102D54' }}\r\n    >\r\n        <div className=\"title is-4\"\r\n            style={{ color: 'white', height: '100%', verticalAlign: 'center' }}>\r\n            {dest.name} <span className=\"tag is-dark\">{dest.num_divesite} divesites</span>\r\n\r\n        </div>\r\n    </Link>\r\n)\r\n\r\nconst Dest = ({ dest, locationType }: { dest: any, locationType: string }) => {\r\n    if (locationType === 'countries') return <Countries dest={dest} />\r\n    return <Cities dest={dest} />\r\n}\r\n\r\ninterface IBreadcrumb {\r\n    href: string;\r\n    name: string;\r\n}\r\n\r\nexport const DestinationList_ = ({ breadcrumb, isLoading, destinations, locationType, hasMore, loadMoreHandler } : \r\n    {\r\n        breadcrumb: IBreadcrumb[],\r\n        isLoading: boolean, \r\n        destinations: ICity[], \r\n        locationType: string,\r\n        hasMore: boolean,\r\n        loadMoreHandler: Function \r\n    }) => (\r\n    <div className=\"section\">\r\n        <div className=\"container\">\r\n            <Level>\r\n                <nav className=\"breadcrumb\" aria-label=\"breadcrumbs\">\r\n                    <ul>\r\n                    {\r\n                        breadcrumb.map((crumb, idx) =>\r\n                            <li key={idx} className={idx === (breadcrumb.length - 1) ? 'is-active': ''}>\r\n                                <Link to={crumb.href} className='title is-3' style={{ padding: '10px'}}>{ crumb.name }</Link>\r\n                            </li>\r\n                        )\r\n                    }\r\n                    </ul>\r\n                </nav>\r\n            </Level>\r\n            <Level>\r\n                <div className=\"tile is-parent\" style={{ flexWrap: 'wrap' }}>\r\n                    { isLoading ?\r\n                        Array(10).fill(null).map((_) =>\r\n                            <div className=\"box is-loading\"\r\n                                style={{ margin: 10, height: 250, width: 250, background: '#102D54' }}\r\n                            >\r\n                                <div className=\"title is-4\"\r\n                                    style={{ color: 'white', height: '100%', verticalAlign: 'center' }}>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                        :\r\n                        destinations.map(dest => <Dest dest={dest} key={dest.id} locationType={locationType}/>)\r\n                    }\r\n                    { hasMore ?\r\n                    <button className=\"box\"\r\n                            style={{ margin: 10, height: 250, width: 250, background: '#487fca', cursor: 'pointer' }}\r\n                            onClick={() =>  loadMoreHandler()}\r\n                        >\r\n                            <div className=\"title is-4\" style={{ color: 'white' }}>More</div>\r\n                        </button>\r\n                    : null\r\n                    }\r\n \r\n                </div>\r\n            </Level>\r\n        </div>\r\n    </div>\r\n)\r\n\r\n\r\n\r\nexport default DestinationList;\r\n","import React, { useState } from 'react';\r\nimport { auth } from './api.ts'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { AppContext } from './AppContext.tsx'\r\n\r\nconst Login = (props) => {\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [error, setError] = useState(null)\r\n\r\n    function handleEmailChange(event) {\r\n        setEmail(event.target.value)\r\n    }\r\n\r\n    function handlePasswordChange(event) { \r\n        setPassword(event.target.value)\r\n    }\r\n\r\n    async function submitHandler(e) {\r\n        e.preventDefault()\r\n        try {\r\n            const user = await auth.login(email, password)\r\n            props.context.updateUser(user)\r\n            props.history.push('/')\r\n        } catch (error) {\r\n            setError(error.message)\r\n        }\r\n\r\n        return false\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={submitHandler}>\r\n            <h3 className=\"title has-text-grey\">Login</h3>\r\n            <div className=\"box\">\r\n                <div className=\"field\">\r\n                    <p className=\"control has-icons-left\">\r\n                        <input className=\"input\" type=\"email\" placeholder=\"Email\"\r\n                            value={email}\r\n                            onChange={handleEmailChange}\r\n                        />\r\n                        <span className=\"icon is-small is-left\">\r\n                            <i className=\"fas fa-envelope\"></i>\r\n                        </span>\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"field\">\r\n                    <div className=\"control has-icons-left\">\r\n                        <input className=\"input\" type=\"password\" \r\n                        placeholder=\"Password\" value={password} onChange={handlePasswordChange}/>\r\n                        <span className=\"icon is-small is-left\">\r\n                        <i className=\"fas fa-lock\"></i>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <button className=\"button is-block is-info is-fullwidth\" type='submit' >\r\n                    Login</button>\r\n                {error != null ?\r\n                <p class=\"help is-danger\">{error}</p>\r\n                :null}\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\n\r\n// const Register = (props) => {\r\n//     const [email, setEmail] = useState('')\r\n//     const [password, setPassword] = useState('')\r\n//     const [username, setUsername] = useState('')\r\n//     const [error, setError] = useState(null)\r\n\r\n//     function handleEmailChange(event) {\r\n//         setEmail(event.target.value)\r\n//     }\r\n\r\n//     function handlePasswordChange(event) { \r\n//         setPassword(event.target.value)\r\n//     }\r\n\r\n//     function handleUsernameChange(event) { \r\n//         setUsername(event.target.value)\r\n//     }\r\n//     async function submitHandler(e) {\r\n//         e.preventDefault()\r\n//         try {\r\n//             const user = await auth.register({ username, email, password })\r\n//             props.context.updateUser(user)\r\n//             props.history.push('/')\r\n//         } catch (error) {\r\n//             setError(error.message)\r\n//         }\r\n\r\n//         return false\r\n//     }\r\n\r\n\r\n//     return (\r\n//         <form onSubmit={submitHandler}>\r\n//             <h3 className=\"title has-text-grey\">Register</h3>\r\n//             <div className=\"box\">\r\n//                 <div className=\"field\">\r\n//                     <p className=\"control has-icons-left\">\r\n//                         <input className=\"input\" type=\"text\" placeholder=\"Username\"\r\n//                             value={username}\r\n//                             onChange={handleUsernameChange}\r\n//                         />\r\n//                         <span className=\"icon is-small is-left\">\r\n//                             <i className=\"fas fa-user\"></i>\r\n//                         </span>\r\n//                     </p>\r\n//                 </div>\r\n//                 <div className=\"field\">\r\n//                     <p className=\"control has-icons-left\">\r\n//                         <input className=\"input\" type=\"email\" placeholder=\"Email\"\r\n//                             value={email}\r\n//                             onChange={handleEmailChange}\r\n//                         />\r\n//                         <span className=\"icon is-small is-left\">\r\n//                             <i className=\"fas fa-envelope\"></i>\r\n//                         </span>\r\n//                     </p>\r\n//                 </div>\r\n\r\n//                 <div className=\"field\">\r\n//                     <div className=\"control has-icons-left\">\r\n//                         <input className=\"input\"\r\n//                             type=\"password\" \r\n//                             placeholder=\"Password\" \r\n//                             value={password} \r\n//                             onChange={handlePasswordChange}\r\n//                         />\r\n//                         <span className=\"icon is-small is-left\">\r\n//                         <i className=\"fas fa-lock\"></i>\r\n//                         </span>\r\n//                     </div>\r\n//                 </div>\r\n//                 <button \r\n//                     className=\"button is-block is-info is-fullwidth\" \r\n//                     submit='submit' \r\n//                     >Register</button>\r\n//             </div>\r\n//             {error != null ?\r\n//                 <p class=\"help is-danger\">{error}</p>\r\n//                 :null}\r\n//         </form>\r\n//     )\r\n// }\r\n\r\n            \r\nconst LoginPage = (props) => {\r\n    return (\r\n        <AppContext.Consumer>\r\n            {context => \r\n                <section className=\"hero is-fullheight\">\r\n                <div className=\"hero-body\">\r\n                    <div className=\"container has-text-centered\">\r\n                        <div className=\"column is-4 is-offset-4\">\r\n                            <Login {...props} context={context}/>\r\n                        </div>\r\n                        {/* <div className=\"column is-4 is-offset-4\">\r\n                            <Register {...props} context={context} />\r\n                        </div> */}\r\n                    </div>\r\n                </div>\r\n            </section>}\r\n        </AppContext.Consumer>\r\n\r\n    )\r\n}\r\n\r\nexport default withRouter(LoginPage)\r\n\r\n","import React from 'react'\r\n\r\nconst About = () =>\r\n    <div className=\"section\">\r\n        <div className=\"container\">\r\n            <div className=\"columns\">\r\n                <div className=\"column is-half is-offset-one-quarter\">\r\n                    <h2 className=\"title is-2\">About</h2>\r\n                    <p>The goal of <a href=\"/\" className=\"has-text-weight-bold\">Reefbase</a> is to be a place where scuba divers can collect information about a dive site before, during, and after a diving trip.</p><br />\r\n                    <p>Currently, the application is in development mode, so things will change and data could get lost.</p><br />\r\n                    <p>The dive site geo GPS coordinate are from <a href=\"http://divesites.com\" target=\"_blank\" rel=\"noopener noreferrer\">divesites.com</a></p><br />\r\n                    <p>Created by <a href=\"https://harinsang.com\" target=\"_blank\" rel=\"noopener noreferrer\">Harin Sanghirun</a>.</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\nexport default About\r\n","import React from 'react';\nimport './App.scss';\nimport Navbar from './Navbar'\nimport { BrowserRouter as Router, Route, Redirect } from \"react-router-dom\";\nimport Destination from './Destination'\nimport DestinationList from './DestinationList'\nimport Login from './Login'\nimport About from './About'\nimport { AppContext, DEFAULT_STATE } from './AppContext'\nimport { IUser, auth } from './api'\n\nfunction DestinationPage(props: any) {\n  return <Destination {...props}></Destination>\n}\n\nfunction DestinationListPage(props: any) {\n  const pathname = props.location.pathname\n  if (pathname === '/destinations') {\n    return <DestinationList locationType='countries' />\n  }\n  return <DestinationList locationType='cities' country={props.match.params.country} />\n}\n\nclass App extends React.Component{\n  state = DEFAULT_STATE\n  constructor(props: any) {\n    super(props)\n    let user = localStorage.getItem('user')\n    if (user != null) {\n      let tempUser = JSON.parse(user) || {}\n      if (tempUser.access_token != null) {\n        this.state.user = tempUser\n        auth.isTokenValid(tempUser.access_token)\n        .then((isValid) => {\n          if (isValid === false) {\n            this.updateUser(null)\n          }\n        })\n      }\n    }\n  }\n\n  updateUser = (user: IUser|null) => {\n    this.setState({ user })\n    localStorage.setItem('user', JSON.stringify(user))\n  }\n\n  render() {\n    return (\n      <AppContext.Provider value={{\n          ...this.state, \n          updateUser: this.updateUser\n      }}>\n        <Router>\n          <div>\n            <Navbar />\n            <Route exact path=\"/\" render={() => (\n                <Redirect to=\"/destinations\"/>\n              )\n            }/>\n            <Route path=\"/login/\" component={Login} />\n            <Route path=\"/about/\" component={About} />\n            <Route path=\"/destinations/\" exact component={DestinationListPage} />\n            <Route path=\"/destinations/:country\" exact component={DestinationListPage} />\n            <Route path=\"/destinations/:country/:city\" component={DestinationPage} />\n          </div>\n        </Router>\n      </AppContext.Provider>\n    );\n  }\n}\n\nexport default App;\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('page'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}